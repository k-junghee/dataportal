<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Portal</title>
    <link rel="stylesheet" href="../src/css/reset.css">
    <link rel="stylesheet" href="../src/css/common.css">
    <link rel="stylesheet" href="../src/css/typeA.css">
    <script src="../src/js/common.js" defer></script>
    <script src="../src/js/typeA.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
</head>
<body>
<!-- header -->
<div id="header"></div>
<script>
    setTimeout(() => {
        document.getElementById('population-link').classList.add('active'); /* 인구통계 active */
    }, 50);
</script>
<!-- //header -->
<section>
    <h1 class="blind">서울특별시 정부보조금</h1>
    <!-- type A -->
    <div class="type_a_wrap layout">
        <div class="type_a_gird">
            <div class="a_colum a_left ac2">
                <div class="type_list">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp01">더보기</a>
                    </div>
                    <div class="data_area">
                      <!-- sample data : select -->
                      <div class="form-container d-select">
                        <div class="form-group">
                          <label>연령 확인</label>
                          <select>
                            <option>1988.06</option>
                            <option>1989.01</option>
                            <option>1990.03</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label>성별</label>
                          <select>
                            <option>남자</option>
                            <option>여자</option>
                          </select>
                        </div>

                        <div class="form-group">
                          <label>새대주</label>
                          <select>
                            <option>본인</option>
                            <option>배우자</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label>주소지</label>
                          <select>
                            <option>서울시 은평구</option>
                            <option>서울시 강남구</option>
                            <option>경기도 고양시</option>
                          </select>
                        </div>

                        <div class="form-group">
                          <label>혼인</label>
                          <select>
                            <option>O</option>
                            <option>X</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label>주거 형태</label>
                          <select>
                            <option>전세</option>
                            <option>자가</option>
                            <option>월세</option>
                          </select>
                        </div>

                        <div class="form-group">
                          <label>자녀 수</label>
                          <select>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label>가구 월소득</label>
                          <select>
                            <option>500만원</option>
                            <option>300만원</option>
                            <option>700만원</option>
                          </select>
                        </div>

                        <div class="form-group">
                          <label>고용 정보</label>
                          <select>
                            <option>중소기업</option>
                            <option>대기업</option>
                            <option>자영업</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label>자산 규모</label>
                          <select>
                            <option>1,000만원</option>
                            <option>5,000만원</option>
                            <option>1억원</option>
                          </select>
                        </div>

                        <div class="form-group">
                          <label>4대 보험</label>
                          <select>
                            <option>O</option>
                            <option>X</option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label>맞벌이</label>
                          <select>
                            <option>O</option>
                            <option>X</option>
                          </select>
                        </div>
                      </div>
                      <!-- //sample data : select -->
                    </div>

                </div>
                <div class="type_list ac_2h">
                    <div class="title sb">
                        <p class="tit"><span class="hl">7</span>건의 보조금에 해당됩니다</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp02">더보기</a>
                    </div>
                    <div class="data_area">
                      <div class="sample_wrap">
                        <!-- sample data : table -->
                        <div class="db-table">
                            <div class="table-wrap">
                              <table>
                                <thead>
                                  <tr>
                                    <th>지원 항목</th>
                                    <th>지원 수준</th>
                                    <th>지원 내용</th>
                                    <th>비고</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td>청년/신혼부부 전월세 지원금</td>
                                    <td>높음</td>
                                    <td class="highlight">최대 2천만원 대출</td>
                                    <td>~1% 이자</td>
                                  </tr>
                                  <tr>
                                    <td>주택청약 가점제 우대</td>
                                    <td>높음</td>
                                    <td>분양 기회 획득</td>
                                    <td>-</td>
                                  </tr>
                                  <tr>
                                    <td>근로, 자녀 장려금</td>
                                    <td>중간</td>
                                    <td class="highlight">최대 300만원</td>
                                    <td>현금 지급</td>
                                  </tr>
                                  <tr>
                                    <td>영아수당</td>
                                    <td>높음</td>
                                    <td class="highlight">월 30만원</td>
                                    <td>12개월</td>
                                  </tr>
                                  <tr>
                                    <td>보육료</td>
                                    <td>높음</td>
                                    <td class="highlight">월 24만원 내외</td>
                                    <td>12개월</td>
                                  </tr>
                                  <tr>
                                    <td>유아학비</td>
                                    <td>높음</td>
                                    <td class="highlight">월 10만원 내외</td>
                                    <td>12개월</td>
                                  </tr>
                                  <tr>
                                    <td>에너지 바우처</td>
                                    <td>높음</td>
                                    <td class="highlight">연 8~15만원</td>
                                    <td>요금 차감</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                        </div>
                        <!-- //sample data : table -->
                        <div class="bottom_box">
                          <div class="info-bar">
                            <span>나의 예상 수령 보조금 총합: <strong>약 832만원</strong></span>
                            <a href="javascript:;" class="btn">신청절차 안내</a>
                          </div>

                          <!-- 검색 영역 -->
                          <div class="search-box">
                            <input type="text" placeholder="지원금 검색">
                            <button>
                              <svg viewBox="0 0 24 24">
                                <circle cx="11" cy="11" r="7"></circle>
                                <line x1="16.5" y1="16.5" x2="22" y2="22"></line>
                              </svg>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="a_colum a_center ac2">
                <div class="type_list list_map">
                    <div class="title">
                        <p class="tit">종합 map</p>
                        <div class="info_box">
                            <span class="info_icon"></span>
                            <p class="info_tag">각 지역을 클릭하시면, 해당 지역의 데이터를 확인하실 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="data_area map_data">
                        <!-- smaple data : img -->
                        <img src="../src/assets/images/map01.png" alt="map" style="display: block;width: 100%; height: 100%;"/>
                        <!-- //smaple data : img -->
                    </div>
                </div>
                <div class="type_list list_stats">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp04">더보기</a>
                    </div>
                    <div class="data_area">
                      <div class="info-bar">
                        <span>은평구<strong>2025</strong>년 주요 지원사업 예산 및 집행 현황. <strong>7.544억원(64.8%)</strong></span>
                      </div>
                       <!-- sample data : highcharts.js -->
                         <div class="data_inner_tw">
                            <div id="donut-container01" style="width: 45%; height: 200px;"></div>
                            <div class="txt_graph">
                                <ul>
                                    <li><span style="color:#ff69b4;">20대</span> : 5,669건 (3.2%)</li>
                                    <li><span style="color:#ffcc00;">30대</span> : 79,766건 (36.1%)</li>
                                    <li><span style="color:#66ccff;">40대</span> : 86,897건 (33.3%)</li>
                                    <li><span style="color:#99ff99;">50대</span> : 48,346건 (18.6%)</li>
                                    <li><span style="color:#cc99ff;">60대</span> : 21,524건 (8.8%)</li>
                                </ul>
                                <!-- <div style="margin-top:10px; font-weight:bold; font-size:18px;">
                                전체 합계: 3,656건
                                </div> -->
                            </div>
                        </div>
                        <script>
                        Highcharts.chart('donut-container01', {
                        chart: {
                            type: 'pie',
                            backgroundColor: 'transparent',
                            options3d: {
                            enabled: true,
                            alpha: 45
                            }
                        },
                        // title: { text: '연령대별 거래 비율' },
                        title: null,
                        exporting: {
                            enabled: false
                        },
                        plotOptions: {
                            pie: {
                            innerSize: 50,
                            depth: 45,
                            dataLabels: {
                                enabled: true,
                                format: '{point.name}: {point.percentage:.1f}%'
                            }
                            }
                        },
                        series: [{
                            name: '비율',
                            data: [
                            { name: '20대', y: 5669, color: '#ff69b4' },
                            { name: '30대', y: 79766, color: '#ffcc00' },
                            { name: '40대', y: 86897, color: '#66ccff' },
                            { name: '50대', y: 48346, color: '#99ff99' },
                            { name: '60대', y: 21524, color: '#cc99ff' }
                            ]
                        }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                         <!-- sample data : highcharts.js -->
                        <div id="container-bar" style=" height:150px;"></div>

                        <script>
                            Highcharts.chart('container-bar', {
                            chart: {
                                type: 'column',   // 막대 그래프 (bar)
                                backgroundColor: 'transparent'
                            },
                            // title: {
                            //     text: '기본 막대 그래프',
                            //     style: { color: '#555' }
                            // },
                            title: null,
                            exporting: {
                                enabled: false   
                            },
                            xAxis: {
                                categories: ['A', 'B', 'C', 'D', 'E', 'F'],
                                labels: { style: { color: 'var(--ft-cl-gray)' } }
                            },
                            yAxis: {
                                title: { text: '값', style: { color: 'var(--ft-cl-gray)' } },
                                labels: { style: { color: 'var(--ft-cl-gray)' } }
                            },
                            tooltip: {
                                valueSuffix: ' 개'
                            },
                            series: [{
                                name: '데이터',
                                data: [12, 23, 18, 34, 45, 20],
                                color: '#66ccff'
                            }]
                            });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_right ac1">
                <div class="type_list news">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp05">더보기</a>
                    </div>
                    <div class="data_area">
                        <!-- sample data : tab/table -->
                    <div class="db-table">
                      <div class="table-wrap">
                        <div class="table-header">
                          <div class="tabs long">
                            <button data-type="임신">임신</button>
                            <button data-type="출산">출산</button>
                            <button data-type="영유아">영유아</button>
                            <button data-type="아동">아동</button>
                            <button data-type="청소년">청소년</button>
                            <button class="active" data-type="중장년">중장년</button>
                            <button data-type="청년">청년</button>
                            <button data-type="노년">노년</button>
                            <button data-type="기타">기타</button>
                          </div>
                        </div>

                        <table>
                          <thead>
                            <tr>
                              <th>No</th>
                              <th>정책명</th>
                              <th>주관</th>
                              <th>링크</th>
                            </tr>
                          </thead>
                          <tbody id="tableBody"></tbody>
                        </table>
                      </div>
                    </div>

                    <script>
                    const tableData = {
                      
                      임신: [
                        { no: 1, title: "고위험 임산부 의료비 지원", agency: "보건복지부", link: "보건복지부" },
                        { no: 2, title: "난임 부부 시술비 지원", agency: "보건복지부", link: "정부24" }
                      ],
                      출산: [
                        { no: 1, title: "첫만남 이용권", agency: "보건복지부", link: "정부24" },
                        { no: 2, title: "산후조리원 바우처 지원", agency: "서울특별시", link: "서울맘케어" }
                      ],
                      영유아: [
                        { no: 1, title: "영유아 건강검진", agency: "국민건강보험", link: "건강iN" },
                        { no: 2, title: "아동수당", agency: "보건복지부", link: "정부24" }
                      ],
                      아동: [
                        { no: 1, title: "초등 돌봄교실", agency: "교육부", link: "에듀팟" },
                        { no: 2, title: "온종일 돌봄체계", agency: "보건복지부", link: "정부24" }
                      ],
                      청소년: [
                        { no: 1, title: "청소년 특별지원", agency: "여성가족부", link: "청소년상담복지센터" },
                        { no: 2, title: "학교 밖 청소년 지원", agency: "여성가족부", link: "꿈드림" }
                      ],
                      청년: [
                        { no: 1, title: "청년 월세 지원", agency: "서울특별시", link: "서울주거포털" },
                        { no: 2, title: "청년 창업 지원", agency: "중소벤처기업부", link: "K-Startup" }
                      ],
                      중장년: [
                        { no: 1, title: "중장년 재취업 지원 서비스", agency: "고용노동부", link: "중장년일자리희망센터" },
                        { no: 2, title: "서울시 중장년 1인 가구 지원", agency: "서울특별시", link: "서울시 복지포털" },
                        { no: 3, title: "중장년 생애설계 서비스", agency: "고용노동부", link: "중장년내일센터" },
                        { no: 4, title: "중장년 창업지원 패키지", agency: "중소벤처기업부", link: "K-Startup" },
                        { no: 5, title: "중장년 전직·전문교육 과정", agency: "고용노동부", link: "직업능력개발원" },
                        { no: 6, title: "서울시 4050 맞춤형 일자리", agency: "서울특별시", link: "서울일자리포털" },
                        { no: 7, title: "중장년 심리·정서 상담 지원", agency: "보건복지부", link: "복지로" },
                        { no: 8, title: "중장년 금융·신용 회복 지원", agency: "금융위원회", link: "서민금융진흥원" }
                      ],
                      노년: [
                        { no: 1, title: "기초연금 제도", agency: "보건복지부", link: "기초연금" },
                        { no: 2, title: "노인 일자리 지원", agency: "보건복지부", link: "노인일자리포털" }
                      ],
                      기타: [
                        { no: 1, title: "다문화가정 지원", agency: "여성가족부", link: "다누리포털" },
                        { no: 2, title: "장애인 고용 지원", agency: "고용노동부", link: "장애인고용공단" }
                      ]
                    };

                    const tbody = document.getElementById('tableBody');
                    const tabs = document.querySelectorAll('.tabs button');

                    function renderTable(type) {
                      tbody.innerHTML = '';
                      const data = tableData[type] || [];
                      data.forEach(row => {
                        tbody.innerHTML += `
                          <tr>
                            <td>${row.no}</td>
                            <td>${row.title}</td>
                            <td>${row.agency}</td>
                            <td><a href="#">${row.link}</a></td>
                          </tr>
                        `;
                      });
                    }

                    // 기본: 중장년 탭 노출
                    renderTable('중장년');

                    tabs.forEach(btn => {
                      btn.addEventListener('click', () => {
                        tabs.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        renderTable(btn.dataset.type);
                      });
                    });
                    </script>

                    <!-- //sample data : tab/table -->

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //type A -->
</section>
<!-- layer popup -->
<div id="layerPopup" class="popup_wrap">
  <div class="popup_inner">
    <button class="popup_close" onclick="closePopup()">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <line x1="4" y1="4" x2="20" y2="20" stroke="black" stroke-width="2"/>
            <line x1="20" y1="4" x2="4" y2="20" stroke="black" stroke-width="2"/>
        </svg>
    </button>
    <div id="popupContent"></div>
  </div>
</div>
<!-- //layer popup -->

</body>
<script>
    // popup
    const popupData = {
        lp01: "<img src='../src/assets/images/sample/sample_10_img01.png'>",
        lp02: "<img src='../src/assets/images/sample/sample_10_img02.png'>",
        lp03: "<img src='../src/assets/images/sample/sample_10_img03.png'>",
        lp04: "<img src='../src/assets/images/sample/sample_10_img04.png'>",
        lp05: "<img src='../src/assets/images/sample/sample_10_img05.png'>",
    }
    function showPopup(el) {
        const id = el.dataset.id; 
        document.getElementById('popupContent').innerHTML = popupData[id] || "<p>데이터 없음</p>";
        document.getElementById('layerPopup').style.display = 'block';
    }
    function closePopup() {
        document.getElementById('layerPopup').style.display = 'none';
    }
</script>
</html>