<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Portal</title>
    <link rel="stylesheet" href="../src/css/reset.css">
    <link rel="stylesheet" href="../src/css/common.css">
    <link rel="stylesheet" href="../src/css/typeA.css">
    <script src="../src/js/common.js" defer></script>
    <script src="../src/js/typeA.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script> <!-- sample data -->
    <script src="https://code.highcharts.com/highcharts-3d.js"></script> <!-- sample data -->
</head>
<body>
<!-- header -->
<div id="header"></div>
<script>
    setTimeout(() => {
        document.getElementById('population-link').classList.add('active'); /* 인구통계 active */
    }, 50);
</script>
<!-- //header -->
<section>
    <h1 class="blind">주거 현황</h1>
    <!-- type A -->
    <div class="type_a_wrap layout">
        <div class="type_a_gird">
            <div class="a_colum a_left ac2">
                <div class="type_list list_board ac_2h">
                    <div class="title sb">
                        <p class="tit">서울시 아파트 일간 매매현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp01">더보기</a>
                    </div>
                    <div class="data_area">
                        table
                    </div>
                </div>
                <div class="type_list list_keyword">
                    <div class="title sb">
                        <p class="tit">서울시 아파트 거래 현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp02">더보기</a>
                    </div>
                    <div class="data_area">
                        <!-- sample data : highcharts.js -->
                         <div id="highcharts-container" style="height: 200px;"></div>

                        <script>
                        Highcharts.chart('highcharts-container', {
                        chart: {
                            type: 'column',
                            backgroundColor: 'transparent',
                            options3d: {
                            enabled: true,
                            alpha: 15,
                            beta: 15,
                            depth: 50,
                            viewDistance: 25
                            }
                        },
                        // title: { text: '서울시 아파트 거래 현황' },
                        title: null,
                        xAxis: {
                            categories: [
                            '2021년', '2022년', '2023년', '2024년', '2025년'
                            ],
                            crosshair: true
                        },
                        yAxis: {
                            min: 0,
                            title: { text: '금액/거래건수' }
                        },
                        tooltip: {
                            shared: true,
                            valueSuffix: ' 억원'
                        },
                        plotOptions: {
                            column: {
                            depth: 25,
                            grouping: true
                            }
                        },
                        series: [{
                            name: '매매대금(억원)',
                            data: [51706, 93263, 107933, 671363, 469540]
                        }, {
                            name: '아파트 매매건수',
                            data: [35086, 305103, 38036, 34980, 32624]
                        }]
                        });
                        </script>

                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_center ac2">
                <div class="type_list list_map">
                    <div class="title">
                        <p class="tit">아파트 월간 누적매매  map</p>
                        <div class="info_box">
                            <span class="info_icon"></span>
                            <p class="info_tag">각 지역을 클릭하시면, 해당 지역의 데이터를 확인하실 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="data_area map_data">
                        <!-- smaple data : img -->
                        <img src="../src/assets/images/map01.png" alt="map" style="display: block;width: 100%; height: 100%;"/>
                        <!-- //smaple data : img -->
                    </div>
                </div>
                <div class="type_list list_stats">
                    <div class="title sb">
                        <p class="tit">서울특별시 아파트 월간 누적매매</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp03">더보기</a>
                    </div>
                    <div class="data_area">
                        캡쳐화면 대체예정
                    </div>
                </div>
            </div>
            <div class="a_colum a_right ac3">
                <div class="type_list news">
                    <div class="title sb">
                        <p class="tit">housing status news</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp04">더보기</a>
                    </div>
                    <div class="data_area video_data">
                        <img src="../src/assets/images/news_enpyeonggu.gif">
                    </div>
                </div>
                <div class="type_list left">
                    <div class="title sb">
                        <p class="tit">서울시 지역별 매매 현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp05">더보기</a>
                    </div>
                    <div class="box_cont">
                        table
                    </div>
                </div>
                <div class="type_list right">
                    <div class="title sb">
                        <p class="tit">서울시 연령대별 부동산 거래</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp06">더보기</a>
                    </div>
                    <div class="box_cont">
                        <!-- sample data : highcharts.js -->
                         <div class="data_inner_tw">
                            <!-- 좌측: 텍스트 영역 -->
                            <div style="width: 50%; font-family: Arial, sans-serif; color: #555;">
                                <ul style="list-style:none; padding:0; margin:0; font-size:16px; line-height:1.8;">
                                    <li><span style="color:#ff69b4;">20대</span> : 5,669건 (3.2%)</li>
                                    <li><span style="color:#ffcc00;">30대</span> : 79,766건 (36.1%)</li>
                                    <li><span style="color:#66ccff;">40대</span> : 86,897건 (33.3%)</li>
                                    <li><span style="color:#99ff99;">50대</span> : 48,346건 (18.6%)</li>
                                    <li><span style="color:#cc99ff;">60대</span> : 21,524건 (8.8%)</li>
                                </ul>
                                <div style="margin-top:10px; font-weight:bold; font-size:18px;">
                                전체 합계: 3,656건
                                </div>
                            </div>
                            <div id="donut-container" style="width: 45%; height: 200px;"></div>
                        </div>
                        <script>
                        // 왼쪽: 연령대별 거래 현황
                        Highcharts.chart('donut-container', {
                        chart: {
                            type: 'pie',
                            backgroundColor: 'transparent',
                            options3d: {
                            enabled: true,
                            alpha: 45
                            }
                        },
                        // title: { text: '연령대별 거래 비율' },
                        title: null,
                        plotOptions: {
                            pie: {
                            innerSize: 50,
                            depth: 45,
                            dataLabels: {
                                enabled: true,
                                format: '{point.name}: {point.percentage:.1f}%'
                            }
                            }
                        },
                        series: [{
                            name: '비율',
                            data: [
                            { name: '20대', y: 5669, color: '#ff69b4' },
                            { name: '30대', y: 79766, color: '#ffcc00' },
                            { name: '40대', y: 86897, color: '#66ccff' },
                            { name: '50대', y: 48346, color: '#99ff99' },
                            { name: '60대', y: 21524, color: '#cc99ff' }
                            ]
                        }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //type A -->
</section>
<!-- layer popup -->
<div id="layerPopup" class="popup_wrap">
  <div class="popup_inner">
    <button class="popup_close" onclick="closePopup()">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <line x1="4" y1="4" x2="20" y2="20" stroke="black" stroke-width="2"/>
            <line x1="20" y1="4" x2="4" y2="20" stroke="black" stroke-width="2"/>
        </svg>
    </button>
    <div id="popupContent"></div>
  </div>
</div>
<!-- //layer popup -->

</body>
<script>
    // popup
    const popupData = {
        lp01: "<img src='../src/assets/images/sample/sample_05_img01.png'>",
        lp02: "<img src='../src/assets/images/sample/sample_05_img02.png'>",
        lp03: "<img src='../src/assets/images/sample/sample_05_img03.png'>",
        lp04: "<img src='../src/assets/images/sample/sample_05_img04.png'>",
        lp05: "<img src='../src/assets/images/sample/sample_05_img05.png'>",
        lp06: "<img src='../src/assets/images/sample/sample_05_img06.png'>",
    };
    function showPopup(el) {
        const id = el.dataset.id; 
        document.getElementById('popupContent').innerHTML = popupData[id] || "<p>데이터 없음</p>";
        document.getElementById('layerPopup').style.display = 'block';
    }
    function closePopup() {
        document.getElementById('layerPopup').style.display = 'none';
    }
</script>
</html>