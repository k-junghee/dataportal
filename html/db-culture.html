<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Portal</title>
    <link rel="stylesheet" href="../src/css/reset.css">
    <link rel="stylesheet" href="../src/css/common.css">
    <link rel="stylesheet" href="../src/css/typeA.css">
    <script src="../src/js/common.js" defer></script>
    <script src="../src/js/typeA.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script> <!-- sample data -->
    <script src="https://code.highcharts.com/highcharts-3d.js"></script> <!-- sample data -->
</head>
<body>
<!-- header -->
<div id="header"></div>
<script>
    setTimeout(() => {
        document.getElementById('population-link').classList.add('active'); /* 인구통계 active */
    }, 50);
</script>
<!-- //header -->
<section>
    <h1 class="blind">문화관광 현황</h1>
    <!-- type A -->
    <div class="type_a_wrap layout">
        <div class="type_a_gird">
            <div class="a_colum a_left ac2">
                <div class="type_list list_board ac_2h">
                    <div class="title sb">
                        <p class="tit">서울시 주요관광지</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp01">더보기</a>
                    </div>
                    <div class="data_area">
                        table
                    </div>
                </div>
                <div class="type_list list_keyword">
                    <div class="title sb">
                        <p class="tit">서울시 문화관광 재정지출</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp02">더보기</a>
                    </div>
                    <div class="data_area">
                        <!-- sample data : highcharts.js -->
                        <div class="data_inner_tw">
                            <div id="bar-container" style="width: 55%; height: 200px;"></div>
                            <div id="donut-container02" style="width: 40%; height: 200px;"></div>
                        </div>
                        <script>
                        // 왼쪽: 바 차트
                        Highcharts.chart('bar-container', {
                        chart: { type: 'bar' , backgroundColor: 'transparent'},
                        // title: { text: '서울시 급식 인력' },
                        title: null,
                        xAxis: {
                            categories: ['외지인', '현지인', '외국인'],
                            title: { text: null }
                        },
                        yAxis: {
                            min: 0,
                            title: { text: '명', align: 'high' }
                        },
                        plotOptions: {
                            bar: {
                            dataLabels: { enabled: true }
                            }
                        },
                        series: [{
                            name: '인원',
                            data: [23521, 5007, 5540]  // 샘플 값
                        }]
                        });

                        // 오른쪽: 3D 도넛
                        Highcharts.chart('donut-container02', {
                        chart: {
                            type: 'pie',
                            backgroundColor: 'transparent',
                            options3d: {
                            enabled: true,
                            alpha: 45
                            }
                        },
                        // title: { text: '급식 인력 비율' },
                        title: null,
                        plotOptions: {
                            pie: {
                            innerSize: 50,
                            depth: 45,
                            dataLabels: {
                                enabled: true,
                                format: '{point.name}: {point.percentage:.1f} %'
                            }
                            }
                        },
                        series: [{
                            name: '비율',
                            data: [
                            ['외지인', 23521],
                            ['현지인', 5007],
                            ['외국인', 5540]
                            ]
                        }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_center ac2">
                <div class="type_list list_map">
                    <div class="title">
                        <p class="tit">공연  map</p>
                        <div class="info_box">
                            <span class="info_icon"></span>
                            <p class="info_tag">각 지역을 클릭하시면, 해당 지역의 데이터를 확인하실 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="data_area map_data">
                        <!-- smaple data : img -->
                        <img src="../src/assets/images/map01.png" alt="map" style="display: block;width: 100%; height: 100%;"/>
                        <!-- //smaple data : img -->
                    </div>
                </div>
                <div class="type_list list_stats">
                    <div class="title sb">
                        <p class="tit">서울특별시 문화공연</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp03">더보기</a>
                    </div>
                    <div class="data_area">

                    </div>
                </div>
            </div>
            <div class="a_colum a_right ac3">
                <div class="type_list news">
                    <div class="title sb">
                        <p class="tit">culture tourism news</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp04">더보기</a>
                    </div>
                    <div class="data_area video_data">
                        <img src="../src/assets/images/news_enpyeonggu.gif">
                    </div>
                </div>
                <div class="type_list left">
                    <div class="title sb">
                        <p class="tit">서울시 공연 정보</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp05">더보기</a>
                    </div>
                    <div class="box_cont">
                        table
                    </div>
                </div>
                <div class="type_list right">
                    <div class="title sb">
                        <p class="tit">서울시 방문자 현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp06">더보기</a>
                    </div>
                    <div class="box_cont">
                        <!-- sample data : highcharts.js -->
                        <div class="data_inner_tw">
                            <div id="line-container" style="width: 55%; height: 200px;"></div>
                            <div id="donut-container" style="width: 40%; height: 200px;"></div>
                        </div>
                        <script>
                        // 왼쪽: 라인 그래프
                        Highcharts.chart('line-container', {
                        chart: { type: 'line', backgroundColor: 'transparent' },
                        // title: { text: '학생·교사 현황 (추세)' },
                        title: null,
                        xAxis: { categories: [2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024] },
                        yAxis: { title: { text: '명' } },
                        series: [{
                            name: '학생수',
                            data: [1400000, 1350000, 1300000, 1250000, 1200000, 1150000, 1100000, 1050000, 1000000, 950000]
                        }, {
                            name: '교원수',
                            data: [95000, 94000, 92000, 91000, 90000, 89000, 88000, 87000, 86500, 86165]
                        }]
                        });

                        // 오른쪽: 3D 도넛 (원통형)
                        Highcharts.chart('donut-container', {
                        chart: {
                            type: 'pie',
                            backgroundColor: 'transparent',
                            options3d: {
                            enabled: true,
                            alpha: 45,
                            beta: 0
                            }
                        },
                        // title: { text: '교원 1인당 학생수' },
                        title: null,
                        plotOptions: {
                            pie: {
                            innerSize: 50,
                            depth: 45
                            }
                        },
                        series: [{
                            name: '비율',
                            data: [
                            ['학생', 1335257],
                            ['교원', 89165]
                            ]
                        }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //type A -->
</section>
<!-- layer popup -->
<div id="layerPopup" class="popup_wrap">
  <div class="popup_inner">
    <button class="popup_close" onclick="closePopup()">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <line x1="4" y1="4" x2="20" y2="20" stroke="black" stroke-width="2"/>
            <line x1="20" y1="4" x2="4" y2="20" stroke="black" stroke-width="2"/>
        </svg>
    </button>
    <div id="popupContent"></div>
  </div>
</div>
<!-- //layer popup -->


</body>
<script>
    // popup
    const popupData = {
        lp01: "<img src='../src/assets/images/sample/sample_06_img01.png'>",
        lp02: "<img src='../src/assets/images/sample/sample_06_img02.png'>",
        lp03: "<img src='../src/assets/images/sample/sample_06_img03.png'>",
        lp04: "<img src='../src/assets/images/sample/sample_06_img04.png'>",
        lp05: "<img src='../src/assets/images/sample/sample_06_img05.png'>",
        lp06: "<img src='../src/assets/images/sample/sample_06_img06.png'>",
    };
    function showPopup(el) {
        const id = el.dataset.id; 
        document.getElementById('popupContent').innerHTML = popupData[id] || "<p>데이터 없음</p>";
        document.getElementById('layerPopup').style.display = 'block';
    }
    function closePopup() {
        document.getElementById('layerPopup').style.display = 'none';
    }
</script>
</html>