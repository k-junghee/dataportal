<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Portal</title>
    <link rel="stylesheet" href="../src/css/reset.css">
    <link rel="stylesheet" href="../src/css/common.css">
    <link rel="stylesheet" href="../src/css/typeA.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
    <script src="../src/js/common.js" defer></script>
    <script src="../src/js/typeA.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script> <!-- sample data -->
    <script src="https://code.highcharts.com/highcharts-3d.js"></script> <!-- sample data -->
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script> <!-- sample data -->
    <script src="https://cdn.jsdelivr.net/npm/echarts-gl/dist/echarts-gl.min.js"></script> <!-- sample data -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>
<body>
<!-- header -->
<div id="header"></div>
<script>
    setTimeout(() => {
        document.getElementById('social-link').classList.add('active'); /* 사회안전망현황 active */
    }, 500);
</script>
<!-- //header -->
<section>
    <h1 class="blind">서울특별시 실시간 응급의료기관</h1>
    <!-- type A -->
    <div class="type_a_wrap layout">
        <div class="type_a_gird">
            <div class="a_colum a_left ac2">
                <div class="type_list ac_2h">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp01">더보기</a>
                    </div>
                    <div class="data_area">
                        <div class="sample_wrap">
                            <div class="info-bar">
                                <span>서울특별시 응급의료기관 및 응급의료시설 <strong>65개소</strong></span>
                            </div>

                           <!-- slider as table -->
                            <div class="db-table">
                            <div class="table-wrap item_slider">
                                <!-- 상단 영역: 단위/비율 + 기준일 -->
                                <div class="is_top">
                                <div class="sel_toggle">
                                    <div class="st"><button type="button" class="active">단위</button></div>
                                    <div class="st"><button type="button">비율</button></div>
                                </div>
                                <div class="date_info">2025년 5월 기준</div>
                                </div>

                                <!-- 슬라이더 영역 -->
                                <div class="is_con">
                                <div class="swiper-data">
                                    <div class="swiper-wrapper">
                                    <!-- slide 1 -->
                                    <div class="swiper-slide">
                                        <div class="data_box">
                                            <div class="tit">응급실 가용 병상수</div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">278</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">소아응급실 가용 병상수 </div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">12</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">일반 입원실 병상수</div>
                                            <div class="cont">
                                                <div class="percent down">-1.00%</div>
                                                <div class="value">
                                                <span class="num">3,820</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">중환자실 병상수</div>
                                            <div class="cont">
                                                <div class="percent up">+2.50%</div>
                                                <div class="value">
                                                <span class="num">89</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">응급의학전문의</div>
                                            <div class="cont">
                                                <div class="percent up">+0.60%</div>
                                                <div class="value">
                                                <span class="num">2,611</span>
                                                <span class="unit">명</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">1급 응급구조사</div>
                                            <div class="cont">
                                                <div class="percent down">-0.30%</div>
                                                <div class="value">
                                                <span class="num">1,335</span>
                                                <span class="unit">명</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">응급실 가용 병상수</div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">278</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">소아응급실 가용 병상수 </div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">12</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">일반 입원실 병상수</div>
                                            <div class="cont">
                                                <div class="percent down">-1.00%</div>
                                                <div class="value">
                                                <span class="num">3,820</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- slide 2 -->
                                    <div class="swiper-slide">
                                        <div class="data_box">
                                        <div class="tit">총 세대수</div>
                                        <div class="cont">
                                            <div class="percent nor">0%</div>
                                            <div class="value">
                                            <span class="num">5,498,871</span>
                                            <span class="unit">세대</span>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="data_box">
                                        <div class="tit">세대당 인구</div>
                                        <div class="cont">
                                            <div class="percent down">-5.75%</div>
                                            <div class="value">
                                            <span class="num">2.1</span>
                                            <span class="unit">명</span>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">출생</div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">2,709</span>
                                                <span class="unit">명</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">응급실 가용 병상수</div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">278</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">소아응급실 가용 병상수 </div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">12</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">일반 입원실 병상수</div>
                                            <div class="cont">
                                                <div class="percent down">-1.00%</div>
                                                <div class="value">
                                                <span class="num">3,820</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">응급실 가용 병상수</div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">278</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">소아응급실 가용 병상수 </div>
                                            <div class="cont">
                                                <div class="percent nor">0%</div>
                                                <div class="value">
                                                <span class="num">12</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="data_box">
                                            <div class="tit">일반 입원실 병상수</div>
                                            <div class="cont">
                                                <div class="percent down">-1.00%</div>
                                                <div class="value">
                                                <span class="num">3,820</span>
                                                <span class="unit">병상</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    </div>

                                    <!-- swiper navigation -->
                                    <div class="swiper-pagination"></div>
                                    <!-- <div class="swiper-button-prev"></div>
                                    <div class="swiper-button-next"></div> -->
                                </div>
                                </div>
                            </div>
                            </div>
                            <!-- //slider as table -->
                        </div>
                    </div>
                </div>
                <div class="type_list">
                    <div class="title sb">
                        <p class="tit">서울특별시 의료기관 현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp03">더보기</a>
                    </div>
                    <div class="data_area">
                        <!-- sample data : highcharts.js -->
                        <div id="container03"></div>
                        <script>
                        Highcharts.chart('container03', {
                        chart: { type: 'bar',
                            backgroundColor: 'transparent',
                            height: 200
                         },
                        // title: { text: '학생수 변동 현황' },
                        title: null,
                        xAxis: {
                            categories: ['상급종합병원', '종합병원', '병원', '요양병원'],
                            style: { color: 'var(--ft-cl-gray)' },
                            labels: { style: { color: 'var(--ft-cl-gray)' } }, 
                            lineColor: 'var(--ft-cl-gray)',
                            tickColor: 'var(--ft-cl-gray)' 
                        },
                        yAxis: {
                            min: 0,
                            title: { text: '' , style: { color: 'var(--ft-cl-gray)' } },
                            style: { color: 'var(--ft-cl-gray)' },
                            labels: { style: { color: 'var(--ft-cl-gray)' } }, 
                            lineColor: 'var(--ft-cl-gray)',
                            tickColor: 'var(--ft-cl-gray)' 
                        },
                        series: [{
                            name: '2024년',
                            data: [205784, 195738, 363157, 61128]
                        }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_center ac1">
                <div class="type_list list_map">
                    <div class="title">
                        <p class="tit">종합 map</p>
                        <div class="info_box">
                            <span class="info_icon"></span>
                            <p class="info_tag">각 지역을 클릭하시면, 해당 지역의 데이터를 확인하실 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="data_area map_data">
                        <!-- smaple data : img -->
                        <img src="../src/assets/images/map01.png" alt="map" style="display: block;width: 100%; height: 100%;"/>
                        <!-- //smaple data : img -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_right ac2">
                <div class="type_list news">
                    <div class="title sb">
                        <p class="tit">서울특별시 의료기관 진료과목 현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp04">더보기</a>
                    </div>
                    <div class="data_area">
                        <!-- sample data : echarts.js -->
                        <div id="bar3d" style="width: 100%; height: 330px;"></div>

                        <script>
                        window.addEventListener('load', function() {
                            var container = document.getElementById('bar3d');
                            var chart = echarts.init(container);

                            var xData = ['강남구','서초구','송파구'];
                            var yData = ['2022','2023','2024'];
                            var seriesData = [
                                [0,0,12],[0,1,18],[0,2,15],
                                [1,0,9],[1,1,14],[1,2,20],
                                [2,0,8],[2,1,16],[2,2,10]
                            ];

                            function getOption() {
                                var w = container.offsetWidth;
                                var h = container.offsetHeight;

                                return {
                                    tooltip: {},
                                    visualMap: { max: 20, inRange: { color: ['#87CEFA','#FF69B4'] } },
                                    xAxis3D: { type: 'category', data: xData },
                                    yAxis3D: { type: 'category', data: yData },
                                    zAxis3D: { type: 'value' },
                                    grid3D: {
                                        boxWidth: 200,
                                        boxDepth: 80,
                                        boxHeight: 200,
                                        viewControl: {
                                            alpha: 30,
                                            beta: 0,
                                            center: [0,0,0],
                                            distance: 200,
                                            zoomSensitivity: 2 // 기본 1, 값을 키우면 휠 반응 빨라짐
                                        },
                                        light: { main: { intensity: 1.2 } }
                                    },
                                    series: [{
                                        type: 'bar3D',
                                        data: seriesData,
                                        shading: 'lambert'
                                    }],
                                    tooltip: { show: false }
                                };
                            }

                            chart.setOption(getOption());

                            window.addEventListener('resize', function() {
                                chart.resize();
                                chart.setOption(getOption());
                            });
                        });
                        </script>
                        <!-- //sample data : echarts.js -->
                    </div>
                </div>
                <div class="type_list left">
                    <div class="title sb">
                        <p class="tit">서울특별시 실시간 응급실 현황</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp05">더보기</a>
                    </div>
                    <div class="box_cont">
                        <!-- sample data : echarts.js -->
                        <div id="bar3d02" style="width: 100%; height: 330px;"></div>

                        <script>
                        window.addEventListener('load', function() {
                            var container = document.getElementById('bar3d02');
                            var chart = echarts.init(container);

                            var xData = ['강남구','서초구','송파구'];
                            var yData = ['2022','2023','2024'];
                            var seriesData = [
                                [0,0,12],[0,1,18],[0,2,15],
                                [1,0,9],[1,1,14],[1,2,20],
                                [2,0,8],[2,1,16],[2,2,10]
                            ];

                            function getOption() {
                                var w = container.offsetWidth;
                                var h = container.offsetHeight;

                                return {
                                    tooltip: {},
                                    visualMap: { max: 20, inRange: { color: ['#87CEFA','#FF69B4'] } },
                                    xAxis3D: { type: 'category', data: xData },
                                    yAxis3D: { type: 'category', data: yData },
                                    zAxis3D: { type: 'value' },
                                    grid3D: {
                                        boxWidth: 200,
                                        boxDepth: 80,
                                        boxHeight: 200,
                                        viewControl: {
                                            alpha: 30,
                                            beta: 0,
                                            center: [0,0,0],
                                            distance: 200,
                                            zoomSensitivity: 2 // 기본 1, 값을 키우면 휠 반응 빨라짐
                                        },
                                        light: { main: { intensity: 1.2 } }
                                    },
                                    series: [{
                                        type: 'bar3D',
                                        data: seriesData,
                                        shading: 'lambert'
                                    }],
                                    tooltip: { show: false }
                                };
                            }

                            chart.setOption(getOption());

                            window.addEventListener('resize', function() {
                                chart.resize();
                                chart.setOption(getOption());
                            });
                        });
                        </script>
                        <!-- //sample data : echarts.js -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //type A -->
</section>
<!-- layer popup -->
<div id="layerPopup" class="popup_wrap">
  <div class="popup_inner">
    <button class="popup_close" onclick="closePopup()">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <line x1="4" y1="4" x2="20" y2="20" stroke="black" stroke-width="2"/>
            <line x1="20" y1="4" x2="4" y2="20" stroke="black" stroke-width="2"/>
        </svg>
    </button>
    <div id="popupContent"></div>
  </div>
</div>
<!-- //layer popup -->


</body>
<script>
    // popup
    const popupData = {
        lp01: "<img src='../src/assets/images/sample/sample_17_img01.png'>",
        lp02: "<img src='../src/assets/images/sample/sample_17_img02.png'>",
        lp03: "<img src='../src/assets/images/sample/sample_17_img03.png'>",
        lp04: "<img src='../src/assets/images/sample/sample_17_img04.png'>",
        lp05: "<img src='../src/assets/images/sample/sample_17_img05.png'>",
    }
    function showPopup(el) {
        const id = el.dataset.id; 
        document.getElementById('popupContent').innerHTML = popupData[id] || "<p>데이터 없음</p>";
        document.getElementById('layerPopup').style.display = 'block';
    }
    function closePopup() {
        document.getElementById('layerPopup').style.display = 'none';
    }

    /*** Swiper ***/
    new Swiper('.swiper-data', {
        loop: true,
        pagination: {
            el: '.swiper-pagination',
            clickable: true
        },
        // navigation: {
        //     nextEl: '.swiper-button-next',
        //     prevEl: '.swiper-button-prev'
        // }
    });
</script>
</html>