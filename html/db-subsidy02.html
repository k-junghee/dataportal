<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Portal</title>
    <link rel="stylesheet" href="../src/css/reset.css">
    <link rel="stylesheet" href="../src/css/common.css">
    <link rel="stylesheet" href="../src/css/typeA.css">
    <script src="../src/js/common.js" defer></script>
    <script src="../src/js/typeA.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script> <!-- sample data -->
    <script src="https://code.highcharts.com/highcharts-3d.js"></script> <!-- sample data -->
<body>
<!-- header -->
<div id="header"></div>
<script>
    setTimeout(() => {
        document.getElementById('population-link').classList.add('active'); /* 인구통계 active */
    }, 50);
</script>
<!-- //header -->
<section>
    <h1 class="blind">서울특별시 정부보조금</h1>
    <!-- type A -->
    <div class="type_a_wrap layout">
        <div class="type_a_gird">
            <div class="a_colum a_left ac2">
                <div class="type_list list_keyword ac_2h">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp01">더보기</a>
                    </div>
                    <div class="data_area">
                        <div class="info-bar">
                            <span>총 보조금 예산액 <strong>53조 1,609억원</strong></span>
                        </div>
                        <div class="info-bar">
                            <span>현 집행 예산액 <strong>18조 3,512억원</strong></span>
                        </div>
                        <div class="info-bar">
                            <span>미 집행 예산액 <strong>34조 8,097억원</strong></span>
                        </div>
                        <!-- sample data : highcharts.js -->
                        <div id="container01"></div>
                        <script>
                        Highcharts.chart('container01', {
                            chart: {
                                type: 'pie',
                                backgroundColor: 'transparent',
                                options3d: {
                                    enabled: true,
                                    alpha: 45,
                                    beta: 0
                                },
                                height: 350
                            },
                            title: null,
                            subtitle: null,
                            plotOptions: {
                                pie: {
                                    innerSize: 100,   // 도넛 두께
                                    depth: 45,        // 원통 높이
                                    //startAngle: -90,  // 시작 각도 (위쪽 반 잘라냄)
                                    //endAngle: 90,     // 끝 각도
                                    //center: ['50%', '75%'] // 아래쪽으로 내림
                                }
                            },
                            series: [{
                                data: [
                                    ['집행 예산액', 34.5],
                                    ['미 집행 예산액', 65.5],
                                ]
                            }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
                <div class="type_list list_board">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp02">더보기</a>
                    </div>
                    <div class="data_area">
                        <!-- sample data : highcharts.js -->
                        <div id="container02"></div>
                        <script>
                        Highcharts.chart('container02', {
                        chart: { 
                            type: 'line',
                            backgroundColor: 'transparent',
                            height: 200,
                        },
                        // title: { text: '학급당 학생수 추이' },
                        title: null,
                        xAxis: { categories: [2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023, 2024] },
                        yAxis: { title: { text: '학생수' } },
                        series: [{
                                name: '초등학교',
                                data: [26.8, 25.7, 23.8, 23.0, 22.8]
                            }, {
                                name: '중학교',
                                data: [22.9, 21.7, 21.0, 20.5, 20.0]
                            }]
                        });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_center ac2">
                <div class="type_list list_map">
                    <div class="title">
                        <p class="tit">종합 map</p>
                        <div class="info_box">
                            <span class="info_icon"></span>
                            <p class="info_tag">각 지역을 클릭하시면, 해당 지역의 데이터를 확인하실 수 있습니다.</p>
                        </div>
                    </div>
                    <div class="data_area map_data">
                        <!-- smaple data : img -->
                        <img src="../src/assets/images/map01.png" alt="map" style="display: block;width: 100%; height: 100%;"/>
                        <!-- //smaple data : img -->
                    </div>
                </div>
                <div class="type_list list_stats">
                    <div class="title sb">
                        <p class="tit"></p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp03">더보기</a>
                    </div>
                    <div class="data_area scroll">
                        <!-- sample data : highcharts.js -->
                        <!-- 박스 1 -->
                        <div class="chart-box">
                            <div class="chart-info">
                            <div class="chart-title">주거취약층 냉방비</div>
                            <div class="highlight">강서구 106.23%</div>
                            </div>
                            <div class="chart-area">
                            <div id="chart1"></div>
                            </div>
                        </div>

                        <!-- 박스 2 -->
                        <div class="chart-box">
                            <div class="chart-info">
                            <div class="chart-title">청년복지 바우처</div>
                            <div class="highlight">종로구 106.00%</div>
                            </div>
                            <div class="chart-area">
                            <div id="chart2"></div>
                            </div>
                        </div>

                        <!-- 박스 3 -->
                        <div class="chart-box">
                            <div class="chart-info">
                            <div class="chart-title">어르신 돌봄 예산</div>
                            <div class="highlight">송파구 98.76%</div>
                            </div>
                            <div class="chart-area">
                            <div id="chart3"></div>
                            </div>
                        </div>

                        <!-- 박스 4 -->
                        <div class="chart-box">
                            <div class="chart-info">
                            <div class="chart-title">청소년 장학금</div>
                            <div class="highlight">마포구 112.45%</div>
                            </div>
                            <div class="chart-area">
                            <div id="chart4"></div>
                            </div>
                        </div>
                                                <script>
                            // 샘플 데이터 공통
                            const categories = ['2016','2017','2018','2019','2020','2021','2022','2023','2024','2025'];

                            Highcharts.chart('chart1', {
                            chart: { type: 'column', backgroundColor: 'transparent' },
                            title: { text: '' },
                            xAxis: { categories, labels: { style: { color: '#fff' } } },
                            yAxis: { title: { text: null }, labels: { style: { color: '#fff' } } },
                            legend: { enabled: false },
                            series: [{ name: '냉방비', data: [50, 120, 150, 180, 130, 100, 90, 110, 140, 200], color: '#4fd1c5' }]
                            });

                            Highcharts.chart('chart2', {
                            chart: { type: 'column', backgroundColor: 'transparent' },
                            title: { text: '' },
                            xAxis: { categories, labels: { style: { color: '#fff' } } },
                            yAxis: { title: { text: null }, labels: { style: { color: '#fff' } } },
                            legend: { enabled: false },
                            series: [{ name: '바우처', data: [100, 200, 180, 150, 130, 90, 60, 80, 120, 250], color: '#f6e05e' }]
                            });

                            Highcharts.chart('chart3', {
                            chart: { type: 'column', backgroundColor: 'transparent' },
                            title: { text: '' },
                            xAxis: { categories, labels: { style: { color: '#fff' } } },
                            yAxis: { title: { text: null }, labels: { style: { color: '#fff' } } },
                            legend: { enabled: false },
                            series: [{ name: '돌봄 예산', data: [80, 90, 100, 110, 105, 95, 115, 120, 125, 130], color: '#63b3ed' }]
                            });

                            Highcharts.chart('chart4', {
                            chart: { type: 'column', backgroundColor: 'transparent' },
                            title: { text: '' },
                            xAxis: { categories, labels: { style: { color: '#fff' } } },
                            yAxis: { title: { text: null }, labels: { style: { color: '#fff' } } },
                            legend: { enabled: false },
                            series: [{ name: '장학금', data: [70, 75, 90, 95, 100, 110, 120, 130, 140, 160], color: '#fc8181' }]
                            });
                        </script>
                        <!-- //sample data : highcharts.js -->
                    </div>
                </div>
            </div>
            <div class="a_colum a_right ac2">
                <div class="type_list news">
                    <div class="title sb">
                        <p class="tit">전월 대비 집행 급증 항목 / AI 분석 및 제안</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp04">더보기</a>
                    </div>
                    <div class="data_area scroll">
                        <!-- sample data : table -->
                        <div class="db-table long">
                            <div class="table-wrap">
                                <table cellspacing="0" cellpadding="5">
                                <thead>
                                    <tr>
                                    <th>자치구</th>
                                    <th>세부사업</th>
                                    <th>전월 집행액</th>
                                    <th>금월 집행액</th>
                                    <th>증가율</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                    <td>강서구</td>
                                    <td>주거취약층 냉방비</td>
                                    <td>96,300,000</td>
                                    <td>198,600,000</td>
                                    <td>106.23%</td>
                                    </tr>
                                    <tr>
                                    <td>종로구</td>
                                    <td>청년복지 바우처</td>
                                    <td>128,400,000</td>
                                    <td>264,500,000</td>
                                    <td>106.00%</td>
                                    </tr>
                                    <tr>
                                    <td>금천구</td>
                                    <td>1인가구 고독사 예방</td>
                                    <td>85,700,000</td>
                                    <td>173,400,000</td>
                                    <td>102.33%</td>
                                    </tr>
                                    <tr>
                                    <td>동대문구</td>
                                    <td>긴급보육 지원</td>
                                    <td>113,200,000</td>
                                    <td>221,800,000</td>
                                    <td>95.94%</td>
                                    </tr>
                                    <tr>
                                    <td>노원구</td>
                                    <td>노인일자리 지원</td>
                                    <td>204,700,000</td>
                                    <td>391,200,000</td>
                                    <td>91.11%</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="title sb" style="margin-top: 17px;">
                            <p class="tit">AI 분석 및 제안</p>
                        </div>
                        <div class="db-table long">
                            <div class="table-wrap">
                                <table cellspacing="0" cellpadding="5">
                                <thead>
                                    <tr>
                                    <th>자치구</th>
                                    <th>사업명</th>
                                    <th>원인 / 진단</th>
                                    <th>AI 제안</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                    <td>강서구</td>
                                    <td>주거취약층 냉방비</td>
                                    <td>폭염 대비 부족한 계절형 예산 구조<br>주거취약지 기준</td>
                                    <td>기온 연동 예산 설계<br>고위험가구 자동지원 시스템</td>
                                    </tr>
                                    <tr>
                                    <td>종로구</td>
                                    <td>청년복지 바우처</td>
                                    <td>수요 급증 대비 고정 예산 한계<br>SNS중심 홍보로 신청 증가</td>
                                    <td>수요 예측 연동 구조<br>초과신청 이월, 대기제 도입</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- //sample data : table -->
                    </div>
                </div>
                <div class="type_list news">
                    <div class="title sb">
                        <p class="tit">집행률 저조(과잉 편성 의심) 항목 / AI 분석 및 제안</p>
                        <a href="javascript:;" onclick="showPopup(this);" class="more_btn" data-id="lp05">더보기</a>
                    </div>
                    <div class="data_area scroll">
                        <!-- sample data : table -->
                        <div class="db-table long">
                            <div class="table-wrap">
                                <table cellspacing="0" cellpadding="5">
                                <thead>
                                    <tr>
                                    <th>자치구</th>
                                    <th>세부사업</th>
                                    <th>전월 집행액</th>
                                    <th>금월 집행액</th>
                                    <th>증가율</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                    <td>강서구</td>
                                    <td>주거취약층 냉방비</td>
                                    <td>96,300,000</td>
                                    <td>198,600,000</td>
                                    <td>106.23%</td>
                                    </tr>
                                    <tr>
                                    <td>종로구</td>
                                    <td>청년복지 바우처</td>
                                    <td>128,400,000</td>
                                    <td>264,500,000</td>
                                    <td>106.00%</td>
                                    </tr>
                                    <tr>
                                    <td>금천구</td>
                                    <td>1인가구 고독사 예방</td>
                                    <td>85,700,000</td>
                                    <td>173,400,000</td>
                                    <td>102.33%</td>
                                    </tr>
                                    <tr>
                                    <td>동대문구</td>
                                    <td>긴급보육 지원</td>
                                    <td>113,200,000</td>
                                    <td>221,800,000</td>
                                    <td>95.94%</td>
                                    </tr>
                                    <tr>
                                    <td>노원구</td>
                                    <td>노인일자리 지원</td>
                                    <td>204,700,000</td>
                                    <td>391,200,000</td>
                                    <td>91.11%</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <div class="title sb" style="margin-top: 17px;">
                            <p class="tit">AI 분석 및 제안</p>
                        </div>
                        <div class="db-table long">
                            <div class="table-wrap">
                                <table cellspacing="0" cellpadding="5">
                                <thead>
                                    <tr>
                                    <th>자치구</th>
                                    <th>사업명</th>
                                    <th>원인 / 진단</th>
                                    <th>AI 제안</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                    <td>강서구</td>
                                    <td>주거취약층 냉방비</td>
                                    <td>폭염 대비 부족한 계절형 예산 구조<br>주거취약지 기준</td>
                                    <td>기온 연동 예산 설계<br>고위험가구 자동지원 시스템</td>
                                    </tr>
                                    <tr>
                                    <td>종로구</td>
                                    <td>청년복지 바우처</td>
                                    <td>수요 급증 대비 고정 예산 한계<br>SNS중심 홍보로 신청 증가</td>
                                    <td>수요 예측 연동 구조<br>초과신청 이월, 대기제 도입</td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- //sample data : table -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- //type A -->
</section>
<!-- layer popup -->
<div id="layerPopup" class="popup_wrap">
  <div class="popup_inner">
    <button class="popup_close" onclick="closePopup()">
        <svg width="24" height="24" viewBox="0 0 24 24">
            <line x1="4" y1="4" x2="20" y2="20" stroke="black" stroke-width="2"/>
            <line x1="20" y1="4" x2="4" y2="20" stroke="black" stroke-width="2"/>
        </svg>
    </button>
    <div id="popupContent"></div>
  </div>
</div>
<!-- //layer popup -->


</body>
<script>
    // popup
    const popupData = {
        lp01: "<img src='../src/assets/images/sample/sample_11_img01.png'>",
        lp02: "<img src='../src/assets/images/sample/sample_11_img02.png'>",
        lp03: "<img src='../src/assets/images/sample/sample_11_img03.png'>",
        lp04: "<img src='../src/assets/images/sample/sample_11_img04.png'>",
        lp05: "<img src='../src/assets/images/sample/sample_11_img05.png'>",
    }
    function showPopup(el) {
        const id = el.dataset.id; 
        document.getElementById('popupContent').innerHTML = popupData[id] || "<p>데이터 없음</p>";
        document.getElementById('layerPopup').style.display = 'block';
    }
    function closePopup() {
        document.getElementById('layerPopup').style.display = 'none';
    }
</script>
</html>